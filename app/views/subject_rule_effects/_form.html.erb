<%= simple_form_for(@subject_rule_effect, url: [@workflow, @subject_rule, @subject_rule_effect]) do |f| %>
  <%= f.error_notification %>

  <div class="form form-inputs">
    <label>Action Type</label><br/>
    <span class="form-control">
      <%= @subject_rule_effect.action %>
    </span>
    <%= f.input :action, :as => :hidden %>
    <br />
    <div class="form-group">
      <% Effects[@subject_rule_effect.action].config_fields.each do |key, choices| %>
        <label><%= key.capitalize %></label><br/>
        <% if choices == nil %>
          <%= text_field_tag "subject_rule_effect[config[#{key}]]", @subject_rule_effect.config[key.to_s], { class: 'form-control' } %>
        <% else %>
          <%= select_tag "subject_rule_effect[config[#{key}]]", options_for_select(choices, @subject_rule_effect.config[key.to_s]), { class: 'form-control' } %>
        <% end %>
      <% end %>
    </div>
  </div>
  <br />
  <div class="form-actions">
    <%= f.button :submit, class: 'btn btn-primary' %>
    <%= link_to 'Back', edit_workflow_subject_rule_path(@workflow, @subject_rule), class: 'btn btn-default' %>
  </div>
<% end %>
