<div class="row">
<div class="col-md-12">
<h2 style="margin-bottom: 1em;"><%= @workflow.name || "[Unknown Name] "%></h2>
<ul class="nav nav-pills">
    <li class="active"><a href="#summary" data-toggle="tab">Summary</a></li>
    <li><a href="#extractors" data-toggle="tab">Extractors <span class="badge"><%= @workflow.extractors.count %></span></a></li>
    <li><a href="#reducers" data-toggle="tab">Reducers <span class="badge"><%= @workflow.reducers.count %></span></a></li>
    <li><a href="#rules" data-toggle="tab">Rules <span class="badge"><%= @workflow.subject_rules.count + @workflow.user_rules.count %></span></a></li>
    <li><a href="#requests" data-toggle="tab">Data Requests <span class="badge"><%= @workflow.data_requests.count %></span></a></li>
    <li><a href="#subjects" data-toggle="tab">Subjects</a></li>
</ul>
<div class="container-fluid">
  <div class="row"><div class="col-md-12">&nbsp;</div></div>
    <div class="tab-content" id="TabContent">
      <div class="tab-pane fade in active" id="summary">
        <%= render partial: 'summary' %>
      </div>
      <div class="tab-pane fade" id="extractors">
        <%= render partial: 'extractors' %>
      </div>
      <div class="tab-pane fade" id="reducers">
        <%= render partial: 'reducers' %>
      </div>
      <div class="tab-pane fade rules-pane" id="rules">
        <%= render partial: 'rules' %>
      </div>
      <div class="tab-pane fade" id="requests">
        <%= render partial: 'requests' %>
      </div>
      <div class="tab-pane fade" id="subjects">
        <%= render partial: 'subjects' %>
      </div>
    </div>
  </div>
</div>
</div>
<script type="text/javascript">
if (window.location.hash) {
  $("a[href='" + window.location.hash + "']").tab('show');
}

$('a[data-toggle="tab"]').on('click', function(e) {
  location.hash = $(e.target).attr('href').substr(1);
});
</script>
